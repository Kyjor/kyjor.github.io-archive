{"version":3,"sources":["webpack:///./src/templates/Post.js","webpack:///./node_modules/disqus-react/lib/index.js","webpack:///./node_modules/disqus-react/lib/CommentEmbed.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/serializers.js","webpack:///./node_modules/@sanity/block-content-to-react/lib/targets/dom.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/internals.js","webpack:///./node_modules/disqus-react/lib/DiscussionEmbed.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/getImageUrl.js","webpack:///./node_modules/disqus-react/lib/CommentCount.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/blocksToNodes.js","webpack:///./node_modules/disqus-react/lib/utils.js","webpack:///./node_modules/@sanity/image-url/lib/browser/image-url.umd.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/mergeSerializers.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/internals.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/buildMarksTree.js","webpack:///./node_modules/@sanity/block-content-to-react/lib/BlockContent.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/node_modules/@sanity/generate-help-url/index.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/nestLists.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/generateKeys.js"],"names":["SinglePostPage","post","data","disqusConfig","identifier","id","title","description","blocks","_rawContent","shortname","config","query","Object","defineProperty","exports","value","enumerable","get","_CommentCount","CommentCount","_CommentEmbed","CommentEmbed","_DiscussionEmbed","DiscussionEmbed","_default","_react","_interopRequireDefault","_propTypes","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","configurable","writable","key","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","this","arguments","apply","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","getPrototypeOf","_React$Component","subClass","superClass","create","_inherits","protoProps","staticProps","_super","Number","commentId","parentParam","showParentComment","mediaParam","showMedia","concat","createElement","src","getSrc","width","height","seamless","scrolling","frameBorder","Component","defaultProps","propTypes","string","isRequired","bool","number","objectAssign","getImageUrl","module","h","serializerOpts","serializeOptions","useDashedStyles","RawMarkSerializer","tag","children","defaultSerializers","types","block","style","node","test","image","asset","img","isInline","marks","strong","bind","em","code","underline","textDecoration","link","href","mark","list","type","listItem","serializers","options","blockType","_type","serializer","Error","span","_props$node","markType","console","warn","markFallback","hardBreak","container","text","undefined","empty","serializeSpan","index","map","child","serializeNode","serializedNode","_key","React","_getSerializers","getSerializers","renderProps","nestMarks","_utils","_extends","assign","source","hasOwnProperty","callbacks","window","disqus_shortname","cleanInstance","loadInstance","nextProps","shallowComparison","doc","document","DISQUS","getElementById","reset","reload","getDisqusConfig","disqus_config","insertScript","body","removeScript","error","disqusThread","hasChildNodes","removeChild","firstChild","_this","page","url","category_id","categoryID","remote_auth_s3","remoteAuthS3","api_key","apiKey","language","forEach","callbackName","shape","preData","func","preInit","onInit","onReady","afterRender","preReset","onIdentify","beforeComment","onNewComment","onPaginate","generateHelpUrl","urlBuilder","enc","encodeURIComponent","materializeError","projectId","dataset","imageOptions","keys","params","join","getQueryString","_ref","queueResetCount","debounce","DISQUSWIDGETS","getCount","prevProps","className","buildMarksTree","nestLists","generateKeys","mergeSerializers","optionProps","defaults","isListItem","properties","rawBlocks","Array","isArray","keyedBlocks","listNestMode","reduce","opts","siblings","level","serializeListItem","findListItemIndex","isSpan","blockProps","serializeBlock","renderContainerOnSingleChild","Boolean","nodes","containerProps","parentElement","script","async","appendChild","wait","runOnFirstCall","timeout","context","args","deferredExecution","callNow","clearTimeout","setTimeout","isReactElement","currentProps","_step","_iterator","minLen","_arrayLikeToArray","n","slice","name","from","_unsupportedIterableToArray","F","s","done","_e","f","it","err","normalCompletion","didErr","step","next","_e2","_createForOfIteratorHelper","Set","arr","len","arr2","element","isValidElement","some","_createForOfIteratorHelperLoose","example","parseSource","urlToId","_id","isAsset","isAssetStub","crop","hotspot","left","top","bottom","right","x","y","applyDefaults","split","replace","SPEC_NAME_TO_URL_NAME_MAPPINGS","urlForImage","spec","ref","_ref$split","dimensionString","format","_dimensionString$spli","isFinite","parseAssetId","cropLeft","Math","round","cropTop","hotSpotVerticalRadius","hotSpotHorizontalRadius","hotSpotCenterX","hotSpotCenterY","rect","focalPoint","ignoreImageParams","cropRect","imgWidth","imgHeight","desiredAspectRatio","_width","_height","_left","_top","max","floor","fit","cdnUrl","baseUrl","filename","_spec$rect","push","bg","flip","flipHorizontal","flipVertical","filter","mapping","specName","param","specToImageUrl","validFits","validCrops","validAutoModes","rewriteSpecName","entry","ImageUrlBuilder","parent","_proto","withOptions","newOptions","_dataset","_projectId","_bg","dpr","_dpr","maxWidth","_maxWidth","minWidth","_minWidth","maxHeight","_maxHeight","minHeight","_minHeight","size","blur","_blur","sharpen","_sharpen","_format","invert","_invert","orientation","_orientation","quality","_quality","forceDownload","download","indexOf","saturation","_saturation","auto","client","clientConfig","isSanityClient","_client$clientConfig","apiUrl","apiHost","factory","userSerializers","acc","_blocksToNodes","blocksToNodes","renderNode","defaultMarks","sortMarksByOccurences","spans","markOccurences","occurences","siblingIndex","sibling","sortByOccurence","sortMarks","sort","markA","markB","aOccurences","bOccurences","aDefaultPos","bDefaultPos","markDefs","sortedMarks","rootNode","nodeStack","marksNeeded","pos","markKey","splice","currentNode","findLastParentNode","find","def","lines","line","PropTypes","internals","_require","SanityBlockContent","customSerializers","object","oneOfType","arrayOf","slug","isListBlock","blockMatchesList","listFromBlock","lastChild","findListMatching","matching","filterOnType","currentList","mode","tree","newList","lastListItem","newLastChild","match","_match","checksum","str","hash","strlen","charCodeAt","item","JSON","stringify"],"mappings":"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","file":"component---src-templates-post-js-91b25a805a9a066c97ba.js","sourcesContent":["import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport Img from 'gatsby-image';\r\nimport { Helmet } from 'react-helmet';\r\nimport SEO from '../components/SEO';\r\nimport BlockContent from '@sanity/block-content-to-react'\r\nimport { DiscussionEmbed } from 'disqus-react';\r\n\r\nexport default function SinglePostPage({ data: { post } }) {\r\n\r\n\r\n    const disqusShortname = \"kyjor\";\r\n    const disqusConfig = {\r\n        identifier: post.id,\r\n        title: post.title,\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <SEO title={post.title} /> \r\n        {/* image={game.image?.asset?.fluid?.src} */}\r\n        <div>\r\n            <Helmet><title>{post.title}</title></Helmet>\r\n            {/* <Img fluid={game.image.asset.fluid} /> */}\r\n            <div>\r\n                <h2>{post.title}</h2>\r\n                <p>{post.description}</p>\r\n                <BlockContent blocks={post._rawContent}/>\r\n            </div>\r\n            <div>\r\n                <DiscussionEmbed shortname={disqusShortname} config={disqusConfig} />\r\n            </div>\r\n            \r\n        </div>\r\n        </>\r\n    \r\n    \r\n    )\r\n\r\n}\r\n\r\nexport const query = graphql`\r\n query ($slug: String!) {\r\n  post: sanityPost(slug: {current: {eq: $slug}}) {\r\n    description\r\n    id\r\n    title\r\n    _rawContent(resolveReferences: {maxDepth: 10})\r\n    date(formatString: \"DD MMMM YY\")\r\n  }\r\n}`;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"CommentCount\", {\n  enumerable: true,\n  get: function get() {\n    return _CommentCount.CommentCount;\n  }\n});\nObject.defineProperty(exports, \"CommentEmbed\", {\n  enumerable: true,\n  get: function get() {\n    return _CommentEmbed.CommentEmbed;\n  }\n});\nObject.defineProperty(exports, \"DiscussionEmbed\", {\n  enumerable: true,\n  get: function get() {\n    return _DiscussionEmbed.DiscussionEmbed;\n  }\n});\nexports[\"default\"] = void 0;\n\nvar _CommentCount = require(\"./CommentCount\");\n\nvar _CommentEmbed = require(\"./CommentEmbed\");\n\nvar _DiscussionEmbed = require(\"./DiscussionEmbed\");\n\nvar Disqus = {\n  CommentCount: _CommentCount.CommentCount,\n  CommentEmbed: _CommentEmbed.CommentEmbed,\n  DiscussionEmbed: _DiscussionEmbed.DiscussionEmbed\n};\nvar _default = Disqus;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommentEmbed = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar RADIX_BASE = 36;\n\nvar CommentEmbed = /*#__PURE__*/function (_React$Component) {\n  _inherits(CommentEmbed, _React$Component);\n\n  var _super = _createSuper(CommentEmbed);\n\n  function CommentEmbed() {\n    _classCallCheck(this, CommentEmbed);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CommentEmbed, [{\n    key: \"getSrc\",\n    value: function getSrc() {\n      var post = Number(this.props.commentId).toString(RADIX_BASE);\n      var parentParam = this.props.showParentComment ? '1' : '0';\n      var mediaParam = this.props.showMedia ? '1' : '0';\n      return \"https://embed.disqus.com/p/\".concat(post, \"?p=\").concat(parentParam, \"&m=\").concat(mediaParam);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"iframe\", {\n        src: this.getSrc(),\n        width: this.props.width,\n        height: this.props.height,\n        seamless: \"seamless\",\n        scrolling: \"no\",\n        frameBorder: \"0\"\n      });\n    }\n  }]);\n\n  return CommentEmbed;\n}(_react[\"default\"].Component);\n\nexports.CommentEmbed = CommentEmbed;\nCommentEmbed.defaultProps = {\n  showMedia: true,\n  showParentComment: true,\n  width: 420,\n  height: 320\n};\nCommentEmbed.propTypes = {\n  commentId: _propTypes[\"default\"].string.isRequired,\n  showMedia: _propTypes[\"default\"].bool,\n  showParentComment: _propTypes[\"default\"].bool,\n  width: _propTypes[\"default\"].number,\n  height: _propTypes[\"default\"].number\n};","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nvar getImageUrl = require('./getImageUrl');\n\nmodule.exports = function (h, serializerOpts) {\n  var serializeOptions = serializerOpts || {\n    useDashedStyles: false // Low-level block serializer\n\n  };\n\n  function BlockSerializer(props) {\n    var node = props.node,\n        serializers = props.serializers,\n        options = props.options,\n        isInline = props.isInline,\n        children = props.children;\n    var blockType = node._type;\n    var serializer = serializers.types[blockType];\n\n    if (!serializer) {\n      throw new Error(\"Unknown block type \\\"\".concat(blockType, \"\\\", please specify a serializer for it in the `serializers.types` prop\"));\n    }\n\n    return h(serializer, {\n      node: node,\n      options: options,\n      isInline: isInline\n    }, children);\n  } // Low-level span serializer\n\n\n  function SpanSerializer(props) {\n    var _props$node = props.node,\n        mark = _props$node.mark,\n        children = _props$node.children;\n    var isPlain = typeof mark === 'string';\n    var markType = isPlain ? mark : mark._type;\n    var serializer = props.serializers.marks[markType];\n\n    if (!serializer) {\n      // @todo Revert back to throwing errors?\n      // eslint-disable-next-line no-console\n      console.warn(\"Unknown mark type \\\"\".concat(markType, \"\\\", please specify a serializer for it in the `serializers.marks` prop\"));\n      return h(props.serializers.markFallback, null, children);\n    }\n\n    return h(serializer, props.node, children);\n  } // Low-level list serializer\n\n\n  function ListSerializer(props) {\n    var tag = props.type === 'bullet' ? 'ul' : 'ol';\n    return h(tag, null, props.children);\n  } // Low-level list item serializer\n\n\n  function ListItemSerializer(props) {\n    var children = !props.node.style || props.node.style === 'normal' ? // Don't wrap plain text in paragraphs inside of a list item\n    props.children : // But wrap any other style in whatever the block serializer says to use\n    h(props.serializers.types.block, props, props.children);\n    return h('li', null, children);\n  } // Renderer of an actual block of type `block`. Confusing, we know.\n\n\n  function BlockTypeSerializer(props) {\n    var style = props.node.style || 'normal';\n\n    if (/^h\\d/.test(style)) {\n      return h(style, null, props.children);\n    }\n\n    return style === 'blockquote' ? h('blockquote', null, props.children) : h('p', null, props.children);\n  } // Serializers for things that can be directly attributed to a tag without any props\n  // We use partial application to do this, passing the tag name as the first argument\n\n\n  function RawMarkSerializer(tag, props) {\n    return h(tag, null, props.children);\n  }\n\n  function UnderlineSerializer(props) {\n    var style = serializeOptions.useDashedStyles ? {\n      'text-decoration': 'underline'\n    } : {\n      textDecoration: 'underline'\n    };\n    return h('span', {\n      style: style\n    }, props.children);\n  }\n\n  function StrikeThroughSerializer(props) {\n    return h('del', null, props.children);\n  }\n\n  function LinkSerializer(props) {\n    return h('a', {\n      href: props.mark.href\n    }, props.children);\n  }\n\n  function ImageSerializer(props) {\n    if (!props.node.asset) {\n      return null;\n    }\n\n    var img = h('img', {\n      src: getImageUrl(props)\n    });\n    return props.isInline ? img : h('figure', null, img);\n  } // Serializer that recursively calls itself, producing a hyperscript tree of spans\n\n\n  function serializeSpan(span, serializers, index, options) {\n    if (span === '\\n' && serializers.hardBreak) {\n      return h(serializers.hardBreak, {\n        key: \"hb-\".concat(index)\n      });\n    }\n\n    if (typeof span === 'string') {\n      return serializers.text ? h(serializers.text, {\n        key: \"text-\".concat(index)\n      }, span) : span;\n    }\n\n    var children;\n\n    if (span.children) {\n      children = {\n        children: span.children.map(function (child, i) {\n          return options.serializeNode(child, i, span.children, true);\n        })\n      };\n    }\n\n    var serializedNode = objectAssign({}, span, children);\n    return h(serializers.span, {\n      key: span._key || \"span-\".concat(index),\n      node: serializedNode,\n      serializers: serializers\n    });\n  }\n\n  var HardBreakSerializer = function HardBreakSerializer() {\n    return h('br');\n  };\n\n  var defaultMarkSerializers = {\n    strong: RawMarkSerializer.bind(null, 'strong'),\n    em: RawMarkSerializer.bind(null, 'em'),\n    code: RawMarkSerializer.bind(null, 'code'),\n    underline: UnderlineSerializer,\n    'strike-through': StrikeThroughSerializer,\n    link: LinkSerializer\n  };\n  var defaultSerializers = {\n    // Common overrides\n    types: {\n      block: BlockTypeSerializer,\n      image: ImageSerializer\n    },\n    marks: defaultMarkSerializers,\n    // Less common overrides\n    list: ListSerializer,\n    listItem: ListItemSerializer,\n    block: BlockSerializer,\n    span: SpanSerializer,\n    hardBreak: HardBreakSerializer,\n    // Container element\n    container: 'div',\n    // When we can't resolve the mark properly, use this renderer as the container\n    markFallback: 'span',\n    // Allow overriding text renderer, but leave undefined to just use plain strings by default\n    text: undefined,\n    // Empty nodes (React uses null, hyperscript with empty strings)\n    empty: ''\n  };\n  return {\n    defaultSerializers: defaultSerializers,\n    serializeSpan: serializeSpan\n  };\n};","'use strict';\n\nvar React = require('react');\n\nvar _require = require('@sanity/block-content-to-hyperscript/internals'),\n    getSerializers = _require.getSerializers;\n\nvar renderNode = React.createElement;\n\nvar _getSerializers = getSerializers(renderNode),\n    defaultSerializers = _getSerializers.defaultSerializers,\n    serializeSpan = _getSerializers.serializeSpan;\n\nmodule.exports = {\n  serializeSpan: serializeSpan,\n  serializers: defaultSerializers,\n  renderProps: {\n    nestMarks: true\n  }\n};","module.exports = require('./lib/internals');","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DiscussionEmbed = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar callbacks = ['preData', 'preInit', 'onInit', 'onReady', 'afterRender', 'preReset', 'onIdentify', 'beforeComment', 'onNewComment', 'onPaginate'];\n\nvar DiscussionEmbed = /*#__PURE__*/function (_React$Component) {\n  _inherits(DiscussionEmbed, _React$Component);\n\n  var _super = _createSuper(DiscussionEmbed);\n\n  function DiscussionEmbed() {\n    _classCallCheck(this, DiscussionEmbed);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DiscussionEmbed, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (typeof window !== 'undefined' && window.disqus_shortname && window.disqus_shortname !== this.props.shortname) this.cleanInstance();\n      this.loadInstance();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props === nextProps) return false;\n      return (0, _utils.shallowComparison)(this.props, nextProps);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(nextProps) {\n      if (this.props.shortname !== nextProps.shortname) this.cleanInstance();\n      this.loadInstance();\n    }\n  }, {\n    key: \"loadInstance\",\n    value: function loadInstance() {\n      var doc = window.document;\n\n      if (window && window.DISQUS && doc.getElementById('dsq-embed-scr')) {\n        window.DISQUS.reset({\n          reload: true,\n          config: this.getDisqusConfig(this.props.config)\n        });\n      } else {\n        window.disqus_config = this.getDisqusConfig(this.props.config);\n        window.disqus_shortname = this.props.shortname;\n        (0, _utils.insertScript)(\"https://\".concat(this.props.shortname, \".disqus.com/embed.js\"), 'dsq-embed-scr', doc.body);\n      }\n    }\n  }, {\n    key: \"cleanInstance\",\n    value: function cleanInstance() {\n      var doc = window.document;\n      (0, _utils.removeScript)('dsq-embed-scr', doc.body);\n      if (window && window.DISQUS) window.DISQUS.reset({});\n\n      try {\n        delete window.DISQUS;\n      } catch (error) {\n        window.DISQUS = undefined;\n      }\n\n      var disqusThread = doc.getElementById('disqus_thread');\n\n      if (disqusThread) {\n        while (disqusThread.hasChildNodes()) {\n          disqusThread.removeChild(disqusThread.firstChild);\n        }\n      }\n    }\n  }, {\n    key: \"getDisqusConfig\",\n    value: function getDisqusConfig(config) {\n      return function () {\n        var _this = this;\n\n        this.page.identifier = config.identifier;\n        this.page.url = config.url;\n        this.page.title = config.title;\n        this.page.category_id = config.categoryID;\n        this.page.remote_auth_s3 = config.remoteAuthS3;\n        this.page.api_key = config.apiKey;\n        if (config.language) this.language = config.language;\n        callbacks.forEach(function (callbackName) {\n          _this.callbacks[callbackName] = [config[callbackName]];\n        });\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({}, this.props, {\n        id: \"disqus_thread\"\n      }));\n    }\n  }]);\n\n  return DiscussionEmbed;\n}(_react[\"default\"].Component);\n\nexports.DiscussionEmbed = DiscussionEmbed;\nDiscussionEmbed.propTypes = {\n  shortname: _propTypes[\"default\"].string.isRequired,\n  config: _propTypes[\"default\"].shape({\n    identifier: _propTypes[\"default\"].string,\n    url: _propTypes[\"default\"].string,\n    title: _propTypes[\"default\"].string,\n    language: _propTypes[\"default\"].string,\n    categoryID: _propTypes[\"default\"].string,\n    remoteAuthS3: _propTypes[\"default\"].string,\n    apiKey: _propTypes[\"default\"].string,\n    preData: _propTypes[\"default\"].func,\n    preInit: _propTypes[\"default\"].func,\n    onInit: _propTypes[\"default\"].func,\n    onReady: _propTypes[\"default\"].func,\n    afterRender: _propTypes[\"default\"].func,\n    preReset: _propTypes[\"default\"].func,\n    onIdentify: _propTypes[\"default\"].func,\n    beforeComment: _propTypes[\"default\"].func,\n    onNewComment: _propTypes[\"default\"].func,\n    onPaginate: _propTypes[\"default\"].func\n  }).isRequired\n};","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar urlBuilder = require('@sanity/image-url');\n\nvar objectAssign = require('object-assign');\n\nvar enc = encodeURIComponent;\nvar materializeError = \"You must either:\\n  - Pass `projectId` and `dataset` to the block renderer\\n  - Materialize images to include the `url` field.\\n\\nFor more information, see \".concat(generateHelpUrl('block-content-image-materializing'));\n\nvar getQueryString = function getQueryString(options) {\n  var query = options.imageOptions;\n  var keys = Object.keys(query);\n\n  if (!keys.length) {\n    return '';\n  }\n\n  var params = keys.map(function (key) {\n    return \"\".concat(enc(key), \"=\").concat(enc(query[key]));\n  });\n  return \"?\".concat(params.join('&'));\n};\n\nvar buildUrl = function buildUrl(props) {\n  var node = props.node,\n      options = props.options;\n  var projectId = options.projectId,\n      dataset = options.dataset;\n  var asset = node.asset;\n\n  if (!asset) {\n    throw new Error('Image does not have required `asset` property');\n  }\n\n  if (asset.url) {\n    return asset.url + getQueryString(options);\n  }\n\n  if (!projectId || !dataset) {\n    throw new Error(materializeError);\n  }\n\n  var ref = asset._ref;\n\n  if (!ref) {\n    throw new Error('Invalid image reference in block, no `_ref` found on `asset`');\n  }\n\n  return urlBuilder(objectAssign({\n    projectId: projectId,\n    dataset: dataset\n  }, options.imageOptions || {})).image(node).toString();\n};\n\nmodule.exports = buildUrl;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommentCount = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar queueResetCount = (0, _utils.debounce)(function () {\n  if (window.DISQUSWIDGETS) window.DISQUSWIDGETS.getCount({\n    reset: true\n  });\n}, 300, false); // eslint-disable-line no-magic-numbers\n\nvar CommentCount = /*#__PURE__*/function (_React$Component) {\n  _inherits(CommentCount, _React$Component);\n\n  var _super = _createSuper(CommentCount);\n\n  function CommentCount() {\n    _classCallCheck(this, CommentCount);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CommentCount, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadInstance();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props === nextProps) return false;\n      return (0, _utils.shallowComparison)(this.props, nextProps);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.shortname !== prevProps.shortname) this.cleanInstance();\n      this.loadInstance();\n    }\n  }, {\n    key: \"loadInstance\",\n    value: function loadInstance() {\n      var doc = window.document;\n      if (doc.getElementById('dsq-count-scr')) queueResetCount();else (0, _utils.insertScript)(\"https://\".concat(this.props.shortname, \".disqus.com/count.js\"), 'dsq-count-scr', doc.body);\n    }\n  }, {\n    key: \"cleanInstance\",\n    value: function cleanInstance() {\n      var body = window.document.body;\n      (0, _utils.removeScript)('dsq-count-scr', body); // count.js only reassigns this window object if it's undefined.\n\n      window.DISQUSWIDGETS = undefined;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: \"disqus-comment-count\",\n        \"data-disqus-identifier\": this.props.config.identifier,\n        \"data-disqus-url\": this.props.config.url\n      }, this.props.children);\n    }\n  }]);\n\n  return CommentCount;\n}(_react[\"default\"].Component);\n\nexports.CommentCount = CommentCount;\nCommentCount.propTypes = {\n  shortname: _propTypes[\"default\"].string.isRequired,\n  config: _propTypes[\"default\"].shape({\n    identifier: _propTypes[\"default\"].string,\n    url: _propTypes[\"default\"].string,\n    title: _propTypes[\"default\"].string\n  }).isRequired\n};","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nvar buildMarksTree = require('./buildMarksTree');\n\nvar nestLists = require('./nestLists');\n\nvar generateKeys = require('./generateKeys');\n\nvar mergeSerializers = require('./mergeSerializers'); // Properties to extract from props and pass to serializers as options\n\n\nvar optionProps = ['projectId', 'dataset', 'imageOptions'];\n\nvar isDefined = function isDefined(val) {\n  return typeof val !== 'undefined';\n};\n\nvar defaults = {\n  imageOptions: {}\n};\n\nfunction blocksToNodes(h, properties, defaultSerializers, serializeSpan) {\n  var props = objectAssign({}, defaults, properties);\n  var rawBlocks = Array.isArray(props.blocks) ? props.blocks : [props.blocks];\n  var keyedBlocks = generateKeys(rawBlocks);\n  var blocks = nestLists(keyedBlocks, props.listNestMode);\n  var serializers = mergeSerializers(defaultSerializers, props.serializers || {});\n  var options = optionProps.reduce(function (opts, key) {\n    var value = props[key];\n\n    if (isDefined(value)) {\n      opts[key] = value;\n    }\n\n    return opts;\n  }, {});\n\n  function serializeNode(node, index, siblings, isInline) {\n    if (isList(node)) {\n      return serializeList(node);\n    }\n\n    if (isListItem(node)) {\n      return serializeListItem(node, findListItemIndex(node, siblings));\n    }\n\n    if (isSpan(node)) {\n      return serializeSpan(node, serializers, index, {\n        serializeNode: serializeNode\n      });\n    }\n\n    return serializeBlock(node, index, isInline);\n  }\n\n  function findListItemIndex(node, siblings) {\n    var index = 0;\n\n    for (var i = 0; i < siblings.length; i++) {\n      if (siblings[i] === node) {\n        return index;\n      }\n\n      if (!isListItem(siblings[i])) {\n        continue;\n      }\n\n      index++;\n    }\n\n    return index;\n  }\n\n  function serializeBlock(block, index, isInline) {\n    var tree = buildMarksTree(block);\n    var children = tree.map(function (node, i, siblings) {\n      return serializeNode(node, i, siblings, true);\n    });\n    var blockProps = {\n      key: block._key || \"block-\".concat(index),\n      node: block,\n      isInline: isInline,\n      serializers: serializers,\n      options: options\n    };\n    return h(serializers.block, blockProps, children);\n  }\n\n  function serializeListItem(block, index) {\n    var key = block._key;\n    var tree = buildMarksTree(block);\n    var children = tree.map(serializeNode);\n    return h(serializers.listItem, {\n      node: block,\n      serializers: serializers,\n      index: index,\n      key: key,\n      options: options\n    }, children);\n  }\n\n  function serializeList(list) {\n    var type = list.listItem;\n    var level = list.level;\n    var key = list._key;\n    var children = list.children.map(serializeNode);\n    return h(serializers.list, {\n      key: key,\n      level: level,\n      type: type,\n      options: options\n    }, children);\n  } // Default to false, so `undefined` will evaluate to the default here\n\n\n  var renderContainerOnSingleChild = Boolean(props.renderContainerOnSingleChild);\n  var nodes = blocks.map(serializeNode);\n\n  if (renderContainerOnSingleChild || nodes.length > 1) {\n    var containerProps = props.className ? {\n      className: props.className\n    } : {};\n    return h(serializers.container, containerProps, nodes);\n  }\n\n  if (nodes[0]) {\n    return nodes[0];\n  }\n\n  return typeof serializers.empty === 'function' ? h(serializers.empty) : serializers.empty;\n}\n\nfunction isList(block) {\n  return block._type === 'list' && block.listItem;\n}\n\nfunction isListItem(block) {\n  return block._type === 'block' && block.listItem;\n}\n\nfunction isSpan(block) {\n  return typeof block === 'string' || block.marks || block._type === 'span';\n}\n\nmodule.exports = blocksToNodes;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.insertScript = insertScript;\nexports.removeScript = removeScript;\nexports.debounce = debounce;\nexports.isReactElement = isReactElement;\nexports.shallowComparison = shallowComparison;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction insertScript(src, id, parentElement) {\n  var script = window.document.createElement('script');\n  script.async = true;\n  script.src = src;\n  script.id = id;\n  parentElement.appendChild(script);\n  return script;\n}\n\nfunction removeScript(id, parentElement) {\n  var script = window.document.getElementById(id);\n  if (script) parentElement.removeChild(script);\n}\n\nfunction debounce(func, wait, runOnFirstCall) {\n  var timeout;\n  return function () {\n    var context = this; // eslint-disable-line consistent-this\n\n    var args = arguments;\n\n    var deferredExecution = function deferredExecution() {\n      timeout = null;\n      if (!runOnFirstCall) func.apply(context, args);\n    };\n\n    var callNow = runOnFirstCall && !timeout;\n    window.clearTimeout(timeout);\n    timeout = setTimeout(deferredExecution, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nfunction isReactElement(element) {\n  if (_react[\"default\"].isValidElement(element)) {\n    return true;\n  } else if (Array.isArray(element)) {\n    return element.some(function (value) {\n      return _react[\"default\"].isValidElement(value);\n    });\n  }\n\n  return false;\n}\n\nfunction shallowComparison(currentProps, nextProps) {\n  // Perform a comparison of all props, excluding React Elements, to prevent unnecessary updates\n  var propNames = new Set(Object.keys(currentProps), Object.keys(nextProps)); // eslint-disable-line no-undef\n\n  var _iterator = _createForOfIteratorHelper(propNames),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var name = _step.value;\n\n      if (_typeof(currentProps[name]) === 'object') {\n        if (shallowComparison(currentProps[name], nextProps[name])) return true;\n      } else if (currentProps[name] !== nextProps[name] && !isReactElement(currentProps[name])) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return false;\n}","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.SanityImageUrlBuilder = factory());\n})(this, function () {\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o) {\n    var i = 0;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    i = o[Symbol.iterator]();\n    return i.next.bind(i);\n  }\n\n  var example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg';\n\n  function parseAssetId(ref) {\n    var _ref$split = ref.split('-'),\n        id = _ref$split[1],\n        dimensionString = _ref$split[2],\n        format = _ref$split[3];\n\n    if (!id || !dimensionString || !format) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n\n    var _dimensionString$spli = dimensionString.split('x'),\n        imgWidthStr = _dimensionString$spli[0],\n        imgHeightStr = _dimensionString$spli[1];\n\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n\n    if (!isValidAssetId) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n\n    return {\n      id: id,\n      width: width,\n      height: height,\n      format: format\n    };\n  }\n\n  var isRef = function isRef(src) {\n    var source = src;\n    return source ? typeof source._ref === 'string' : false;\n  };\n\n  var isAsset = function isAsset(src) {\n    var source = src;\n    return source ? typeof source._id === 'string' : false;\n  };\n\n  var isAssetStub = function isAssetStub(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === 'string' : false;\n  };\n\n  function parseSource(source) {\n    if (!source) {\n      return null;\n    }\n\n    var image;\n\n    if (typeof source === 'string' && isUrl(source)) {\n      image = {\n        asset: {\n          _ref: urlToId(source)\n        }\n      };\n    } else if (typeof source === 'string') {\n      image = {\n        asset: {\n          _ref: source\n        }\n      };\n    } else if (isRef(source)) {\n      image = {\n        asset: source\n      };\n    } else if (isAsset(source)) {\n      image = {\n        asset: {\n          _ref: source._id || ''\n        }\n      };\n    } else if (isAssetStub(source)) {\n      image = {\n        asset: {\n          _ref: urlToId(source.asset.url)\n        }\n      };\n    } else if (typeof source.asset === 'object') {\n      image = source;\n    } else {\n      return null;\n    }\n\n    var img = source;\n\n    if (img.crop) {\n      image.crop = img.crop;\n    }\n\n    if (img.hotspot) {\n      image.hotspot = img.hotspot;\n    }\n\n    return applyDefaults(image);\n  }\n\n  function isUrl(url) {\n    return /^https?:\\/\\//.test(\"\" + url);\n  }\n\n  function urlToId(url) {\n    var parts = url.split('/').slice(-1);\n    return (\"image-\" + parts[0]).replace(/\\.([a-z]+)$/, '-$1');\n  }\n\n  function applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n      return image;\n    }\n\n    var result = _extends({}, image);\n\n    if (!result.crop) {\n      result.crop = {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0\n      };\n    }\n\n    if (!result.hotspot) {\n      result.hotspot = {\n        x: 0.5,\n        y: 0.5,\n        height: 1.0,\n        width: 1.0\n      };\n    }\n\n    return result;\n  }\n\n  var SPEC_NAME_TO_URL_NAME_MAPPINGS = [['width', 'w'], ['height', 'h'], ['format', 'fm'], ['download', 'dl'], ['blur', 'blur'], ['sharpen', 'sharp'], ['invert', 'invert'], ['orientation', 'or'], ['minHeight', 'min-h'], ['maxHeight', 'max-h'], ['minWidth', 'min-w'], ['maxWidth', 'max-w'], ['quality', 'q'], ['fit', 'fit'], ['crop', 'crop'], ['saturation', 'sat'], ['auto', 'auto'], ['dpr', 'dpr']];\n\n  function urlForImage(options) {\n    var spec = _extends({}, options || {});\n\n    var source = spec.source;\n    delete spec.source;\n    var image = parseSource(source);\n\n    if (!image) {\n      return null;\n    }\n\n    var id = image.asset._ref || image.asset._id || '';\n    var asset = parseAssetId(id);\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n      left: cropLeft,\n      top: cropTop,\n      width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n      height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    };\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n      left: hotSpotCenterX - hotSpotHorizontalRadius,\n      top: hotSpotCenterY - hotSpotVerticalRadius,\n      right: hotSpotCenterX + hotSpotHorizontalRadius,\n      bottom: hotSpotCenterY + hotSpotVerticalRadius\n    };\n\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n      spec = _extends(_extends({}, spec), fit({\n        crop: crop,\n        hotspot: hotspot\n      }, spec));\n    }\n\n    return specToImageUrl(_extends(_extends({}, spec), {}, {\n      asset: asset\n    }));\n  }\n\n  function specToImageUrl(spec) {\n    var cdnUrl = spec.baseUrl || 'https://cdn.sanity.io';\n    var filename = spec.asset.id + \"-\" + spec.asset.width + \"x\" + spec.asset.height + \".\" + spec.asset.format;\n    var baseUrl = cdnUrl + \"/images/\" + spec.projectId + \"/\" + spec.dataset + \"/\" + filename;\n    var params = [];\n\n    if (spec.rect) {\n      var _spec$rect = spec.rect,\n          left = _spec$rect.left,\n          top = _spec$rect.top,\n          width = _spec$rect.width,\n          height = _spec$rect.height;\n      var isEffectiveCrop = left !== 0 || top !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n\n      if (isEffectiveCrop) {\n        params.push(\"rect=\" + left + \",\" + top + \",\" + width + \",\" + height);\n      }\n    }\n\n    if (spec.bg) {\n      params.push(\"bg=\" + spec.bg);\n    }\n\n    if (spec.focalPoint) {\n      params.push(\"fp-x=\" + spec.focalPoint.x);\n      params.push(\"fp-y=\" + spec.focalPoint.y);\n    }\n\n    var flip = [spec.flipHorizontal && 'h', spec.flipVertical && 'v'].filter(Boolean).join('');\n\n    if (flip) {\n      params.push(\"flip=\" + flip);\n    }\n\n    SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function (mapping) {\n      var specName = mapping[0],\n          param = mapping[1];\n\n      if (typeof spec[specName] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[specName]));\n      } else if (typeof spec[param] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[param]));\n      }\n    });\n\n    if (params.length === 0) {\n      return baseUrl;\n    }\n\n    return baseUrl + \"?\" + params.join('&');\n  }\n\n  function fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n\n    if (!(imgWidth && imgHeight)) {\n      return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: source.crop\n      };\n    }\n\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n\n    if (cropAspectRatio > desiredAspectRatio) {\n      var height = crop.height;\n      var width = height * desiredAspectRatio;\n      var top = crop.top;\n      var hotspotXCenter = (hotspot.right - hotspot.left) / 2 + hotspot.left;\n      var left = hotspotXCenter - width / 2;\n\n      if (left < crop.left) {\n        left = crop.left;\n      } else if (left + width > crop.left + crop.width) {\n        left = crop.left + crop.width - width;\n      }\n\n      cropRect = {\n        left: Math.round(left),\n        top: Math.round(top),\n        width: Math.round(width),\n        height: Math.round(height)\n      };\n    } else {\n      var _width = crop.width;\n\n      var _height = _width / desiredAspectRatio;\n\n      var _left = crop.left;\n      var hotspotYCenter = (hotspot.bottom - hotspot.top) / 2 + hotspot.top;\n\n      var _top = hotspotYCenter - _height / 2;\n\n      if (_top < crop.top) {\n        _top = crop.top;\n      } else if (_top + _height > crop.top + crop.height) {\n        _top = crop.top + crop.height - _height;\n      }\n\n      cropRect = {\n        left: Math.max(0, Math.floor(_left)),\n        top: Math.max(0, Math.floor(_top)),\n        width: Math.round(_width),\n        height: Math.round(_height)\n      };\n    }\n\n    return {\n      width: imgWidth,\n      height: imgHeight,\n      rect: cropRect\n    };\n  }\n\n  var validFits = ['clip', 'crop', 'fill', 'fillmax', 'max', 'scale', 'min'];\n  var validCrops = ['top', 'bottom', 'left', 'right', 'center', 'focalpoint', 'entropy'];\n  var validAutoModes = ['format'];\n\n  function isSanityClient(client) {\n    return client ? typeof client.clientConfig === 'object' : false;\n  }\n\n  function rewriteSpecName(key) {\n    var specs = SPEC_NAME_TO_URL_NAME_MAPPINGS;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(specs), _step; !(_step = _iterator()).done;) {\n      var entry = _step.value;\n      var specName = entry[0],\n          param = entry[1];\n\n      if (key === specName || key === param) {\n        return specName;\n      }\n    }\n\n    return key;\n  }\n\n  function urlBuilder(options) {\n    var client = options;\n\n    if (isSanityClient(client)) {\n      var _client$clientConfig = client.clientConfig,\n          apiUrl = _client$clientConfig.apiHost,\n          projectId = _client$clientConfig.projectId,\n          dataset = _client$clientConfig.dataset;\n      var apiHost = apiUrl || 'https://api.sanity.io';\n      return new ImageUrlBuilder(null, {\n        baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n        projectId: projectId,\n        dataset: dataset\n      });\n    }\n\n    return new ImageUrlBuilder(null, options);\n  }\n\n  var ImageUrlBuilder = /*#__PURE__*/function () {\n    function ImageUrlBuilder(parent, options) {\n      this.options = parent ? _extends(_extends({}, parent.options || {}), options || {}) : _extends({}, options || {});\n    }\n\n    var _proto = ImageUrlBuilder.prototype;\n\n    _proto.withOptions = function withOptions(options) {\n      var baseUrl = options.baseUrl || this.options.baseUrl;\n      var newOptions = {\n        baseUrl: baseUrl\n      };\n\n      for (var key in options) {\n        if (options.hasOwnProperty(key)) {\n          var specKey = rewriteSpecName(key);\n          newOptions[specKey] = options[key];\n        }\n      }\n\n      return new ImageUrlBuilder(this, _extends({\n        baseUrl: baseUrl\n      }, newOptions));\n    };\n\n    _proto.image = function image(source) {\n      return this.withOptions({\n        source: source\n      });\n    };\n\n    _proto.dataset = function dataset(_dataset) {\n      return this.withOptions({\n        dataset: _dataset\n      });\n    };\n\n    _proto.projectId = function projectId(_projectId) {\n      return this.withOptions({\n        projectId: _projectId\n      });\n    };\n\n    _proto.bg = function bg(_bg) {\n      return this.withOptions({\n        bg: _bg\n      });\n    };\n\n    _proto.dpr = function dpr(_dpr) {\n      return this.withOptions({\n        dpr: _dpr\n      });\n    };\n\n    _proto.width = function width(_width) {\n      return this.withOptions({\n        width: _width\n      });\n    };\n\n    _proto.height = function height(_height) {\n      return this.withOptions({\n        height: _height\n      });\n    };\n\n    _proto.focalPoint = function focalPoint(x, y) {\n      return this.withOptions({\n        focalPoint: {\n          x: x,\n          y: y\n        }\n      });\n    };\n\n    _proto.maxWidth = function maxWidth(_maxWidth) {\n      return this.withOptions({\n        maxWidth: _maxWidth\n      });\n    };\n\n    _proto.minWidth = function minWidth(_minWidth) {\n      return this.withOptions({\n        minWidth: _minWidth\n      });\n    };\n\n    _proto.maxHeight = function maxHeight(_maxHeight) {\n      return this.withOptions({\n        maxHeight: _maxHeight\n      });\n    };\n\n    _proto.minHeight = function minHeight(_minHeight) {\n      return this.withOptions({\n        minHeight: _minHeight\n      });\n    };\n\n    _proto.size = function size(width, height) {\n      return this.withOptions({\n        width: width,\n        height: height\n      });\n    };\n\n    _proto.blur = function blur(_blur) {\n      return this.withOptions({\n        blur: _blur\n      });\n    };\n\n    _proto.sharpen = function sharpen(_sharpen) {\n      return this.withOptions({\n        sharpen: _sharpen\n      });\n    };\n\n    _proto.rect = function rect(left, top, width, height) {\n      return this.withOptions({\n        rect: {\n          left: left,\n          top: top,\n          width: width,\n          height: height\n        }\n      });\n    };\n\n    _proto.format = function format(_format) {\n      return this.withOptions({\n        format: _format\n      });\n    };\n\n    _proto.invert = function invert(_invert) {\n      return this.withOptions({\n        invert: _invert\n      });\n    };\n\n    _proto.orientation = function orientation(_orientation) {\n      return this.withOptions({\n        orientation: _orientation\n      });\n    };\n\n    _proto.quality = function quality(_quality) {\n      return this.withOptions({\n        quality: _quality\n      });\n    };\n\n    _proto.forceDownload = function forceDownload(download) {\n      return this.withOptions({\n        download: download\n      });\n    };\n\n    _proto.flipHorizontal = function flipHorizontal() {\n      return this.withOptions({\n        flipHorizontal: true\n      });\n    };\n\n    _proto.flipVertical = function flipVertical() {\n      return this.withOptions({\n        flipVertical: true\n      });\n    };\n\n    _proto.ignoreImageParams = function ignoreImageParams() {\n      return this.withOptions({\n        ignoreImageParams: true\n      });\n    };\n\n    _proto.fit = function fit(value) {\n      if (validFits.indexOf(value) === -1) {\n        throw new Error(\"Invalid fit mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        fit: value\n      });\n    };\n\n    _proto.crop = function crop(value) {\n      if (validCrops.indexOf(value) === -1) {\n        throw new Error(\"Invalid crop mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        crop: value\n      });\n    };\n\n    _proto.saturation = function saturation(_saturation) {\n      return this.withOptions({\n        saturation: _saturation\n      });\n    };\n\n    _proto.auto = function auto(value) {\n      if (validAutoModes.indexOf(value) === -1) {\n        throw new Error(\"Invalid auto mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        auto: value\n      });\n    };\n\n    _proto.url = function url() {\n      return urlForImage(this.options);\n    };\n\n    _proto.toString = function toString() {\n      return this.url();\n    };\n\n    return ImageUrlBuilder;\n  }();\n\n  return urlBuilder;\n});","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar objectAssign = require('object-assign');\n\nvar isDefined = function isDefined(val) {\n  return typeof val !== 'undefined';\n}; // Recursively merge/replace default serializers with user-specified serializers\n\n\nmodule.exports = function mergeSerializers(defaultSerializers, userSerializers) {\n  return Object.keys(defaultSerializers).reduce(function (acc, key) {\n    var type = _typeof(defaultSerializers[key]);\n\n    if (type === 'function') {\n      acc[key] = isDefined(userSerializers[key]) ? userSerializers[key] : defaultSerializers[key];\n    } else if (type === 'object') {\n      acc[key] = objectAssign({}, defaultSerializers[key], userSerializers[key]);\n    } else {\n      acc[key] = typeof userSerializers[key] === 'undefined' ? defaultSerializers[key] : userSerializers[key];\n    }\n\n    return acc;\n  }, {});\n};","\"use strict\";\n\nvar getSerializers = require('./serializers');\n\nvar _blocksToNodes = require('./blocksToNodes');\n\nvar getImageUrl = require('./getImageUrl');\n\nvar mergeSerializers = require('./mergeSerializers');\n\nmodule.exports = {\n  blocksToNodes: function blocksToNodes(renderNode, props, defaultSerializers, serializeSpan) {\n    if (defaultSerializers) {\n      return _blocksToNodes(renderNode, props, defaultSerializers, serializeSpan);\n    } // Backwards-compatibility\n\n\n    var serializers = getSerializers(renderNode);\n    return _blocksToNodes(renderNode, props, serializers.defaultSerializers, serializers.serializeSpan);\n  },\n  getSerializers: getSerializers,\n  getImageUrl: getImageUrl,\n  mergeSerializers: mergeSerializers\n};","\"use strict\";\n\nvar defaultMarks = ['strong', 'em', 'code', 'underline', 'strike-through'];\n\nvar buildMarksTree = function buildMarksTree(block) {\n  var children = block.children,\n      markDefs = block.markDefs;\n\n  if (!children || !children.length) {\n    return [];\n  }\n\n  var sortedMarks = children.map(sortMarksByOccurences);\n  var rootNode = {\n    _type: 'span',\n    children: []\n  };\n  var nodeStack = [rootNode];\n  children.forEach(function (span, i) {\n    var marksNeeded = sortedMarks[i];\n\n    if (!marksNeeded) {\n      var lastNode = nodeStack[nodeStack.length - 1];\n      lastNode.children.push(span);\n      return;\n    }\n\n    var pos = 1; // Start at position one. Root is always plain and should never be removed. (?)\n\n    if (nodeStack.length > 1) {\n      for (pos; pos < nodeStack.length; pos++) {\n        var mark = nodeStack[pos].markKey;\n        var index = marksNeeded.indexOf(mark); // eslint-disable-next-line max-depth\n\n        if (index === -1) {\n          break;\n        }\n\n        marksNeeded.splice(index, 1);\n      }\n    } // Keep from beginning to first miss\n\n\n    nodeStack = nodeStack.slice(0, pos); // Add needed nodes\n\n    var currentNode = findLastParentNode(nodeStack);\n    marksNeeded.forEach(function (mark) {\n      var node = {\n        _type: 'span',\n        _key: span._key,\n        children: [],\n        mark: markDefs.find(function (def) {\n          return def._key === mark;\n        }) || mark,\n        markKey: mark\n      };\n      currentNode.children.push(node);\n      nodeStack.push(node);\n      currentNode = node;\n    }); // Split at newlines to make individual line chunks, but keep newline\n    // characters as individual elements in the array. We use these characters\n    // in the span serializer to trigger hard-break rendering\n\n    if (isTextSpan(span)) {\n      var lines = span.text.split('\\n');\n\n      for (var line = lines.length; line-- > 1;) {\n        lines.splice(line, 0, '\\n');\n      }\n\n      currentNode.children = currentNode.children.concat(lines);\n    } else {\n      currentNode.children = currentNode.children.concat(span);\n    }\n  });\n  return rootNode.children;\n}; // We want to sort all the marks of all the spans in the following order:\n// 1. Marks that are shared amongst the most adjacent siblings\n// 2. Non-default marks (links, custom metadata)\n// 3. Built-in, plain marks (bold, emphasis, code etc)\n\n\nfunction sortMarksByOccurences(span, i, spans) {\n  if (!span.marks || span.marks.length === 0) {\n    return span.marks || [];\n  }\n\n  var markOccurences = span.marks.reduce(function (occurences, mark) {\n    occurences[mark] = occurences[mark] ? occurences[mark] + 1 : 1;\n\n    for (var siblingIndex = i + 1; siblingIndex < spans.length; siblingIndex++) {\n      var sibling = spans[siblingIndex];\n\n      if (sibling.marks && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) {\n        occurences[mark]++;\n      } else {\n        break;\n      }\n    }\n\n    return occurences;\n  }, {});\n  var sortByOccurence = sortMarks.bind(null, markOccurences); // Slicing because sort() mutates the input\n\n  return span.marks.slice().sort(sortByOccurence);\n}\n\nfunction sortMarks(occurences, markA, markB) {\n  var aOccurences = occurences[markA] || 0;\n  var bOccurences = occurences[markB] || 0;\n\n  if (aOccurences !== bOccurences) {\n    return bOccurences - aOccurences;\n  }\n\n  var aDefaultPos = defaultMarks.indexOf(markA);\n  var bDefaultPos = defaultMarks.indexOf(markB); // Sort default marks last\n\n  if (aDefaultPos !== bDefaultPos) {\n    return aDefaultPos - bDefaultPos;\n  } // Sort other marks simply by key\n\n\n  if (markA < markB) {\n    return -1;\n  } else if (markA > markB) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction isTextSpan(node) {\n  return node._type === 'span' && typeof node.text === 'string' && (Array.isArray(node.marks) || typeof node.marks === 'undefined');\n}\n\nfunction findLastParentNode(nodes) {\n  for (var i = nodes.length - 1; i >= 0; i--) {\n    var node = nodes[i];\n\n    if (node._type === 'span' && node.children) {\n      return node;\n    }\n  }\n\n  return undefined;\n}\n\nmodule.exports = buildMarksTree;","'use strict';\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types');\n\nvar internals = require('@sanity/block-content-to-hyperscript/internals');\n\nvar _require = require('./targets/dom'),\n    serializers = _require.serializers,\n    serializeSpan = _require.serializeSpan,\n    renderProps = _require.renderProps;\n\nvar getImageUrl = internals.getImageUrl,\n    blocksToNodes = internals.blocksToNodes,\n    mergeSerializers = internals.mergeSerializers;\nvar renderNode = React.createElement;\n\nvar SanityBlockContent = function SanityBlockContent(props) {\n  var customSerializers = mergeSerializers(SanityBlockContent.defaultSerializers, props.serializers);\n  var blockProps = Object.assign({}, renderProps, props, {\n    serializers: customSerializers,\n    blocks: props.blocks || []\n  });\n  return blocksToNodes(renderNode, blockProps, serializers, serializeSpan);\n}; // Expose default serializers to the user\n\n\nSanityBlockContent.defaultSerializers = serializers; // Expose logic for building image URLs from an image reference/node\n\nSanityBlockContent.getImageUrl = getImageUrl;\nSanityBlockContent.propTypes = {\n  className: PropTypes.string,\n  renderContainerOnSingleChild: PropTypes.bool,\n  // When rendering images, we need project id and dataset, unless images are materialized\n  projectId: PropTypes.string,\n  dataset: PropTypes.string,\n  imageOptions: PropTypes.object,\n  serializers: PropTypes.shape({\n    // Common overrides\n    types: PropTypes.object,\n    marks: PropTypes.object,\n    // Less common overrides\n    list: PropTypes.func,\n    listItem: PropTypes.func,\n    // Low-level serializers\n    block: PropTypes.func,\n    span: PropTypes.func\n  }),\n  blocks: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape({\n    _type: PropTypes.string.isRequired\n  })), PropTypes.shape({\n    _type: PropTypes.string.isRequired\n  })]).isRequired\n};\nSanityBlockContent.defaultProps = {\n  renderContainerOnSingleChild: false,\n  serializers: {},\n  imageOptions: {}\n};\nmodule.exports = SanityBlockContent;","var baseUrl = 'https://docs.sanity.io/help/';\n\nmodule.exports = function generateHelpUrl(slug) {\n  return baseUrl + slug;\n};","\"use strict\";\n\nvar objectAssign = require('object-assign');\n/* eslint-disable max-depth, complexity */\n\n\nfunction nestLists(blocks) {\n  var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'html';\n  var tree = [];\n  var currentList;\n\n  for (var i = 0; i < blocks.length; i++) {\n    var block = blocks[i];\n\n    if (!isListBlock(block)) {\n      tree.push(block);\n      currentList = null;\n      continue;\n    } // Start of a new list?\n\n\n    if (!currentList) {\n      currentList = listFromBlock(block);\n      tree.push(currentList);\n      continue;\n    } // New list item within same list?\n\n\n    if (blockMatchesList(block, currentList)) {\n      currentList.children.push(block);\n      continue;\n    } // Different list props, are we going deeper?\n\n\n    if (block.level > currentList.level) {\n      var newList = listFromBlock(block);\n\n      if (mode === 'html') {\n        // Because HTML is kinda weird, nested lists needs to be nested within list items\n        // So while you would think that we could populate the parent list with a new sub-list,\n        // We actually have to target the last list element (child) of the parent.\n        // However, at this point we need to be very careful - simply pushing to the list of children\n        // will mutate the input, and we don't want to blindly clone the entire tree.\n        // Clone the last child while adding our new list as the last child of it\n        var lastListItem = lastChild(currentList);\n        var newLastChild = objectAssign({}, lastListItem, {\n          children: lastListItem.children.concat(newList)\n        }); // Swap the last child\n\n        currentList.children[currentList.children.length - 1] = newLastChild;\n      } else {\n        currentList.children.push(newList);\n      } // Set the newly created, deeper list as the current\n\n\n      currentList = newList;\n      continue;\n    } // Different list props, are we going back up the tree?\n\n\n    if (block.level < currentList.level) {\n      // Current list has ended, and we need to hook up with a parent of the same level and type\n      var match = findListMatching(tree[tree.length - 1], block);\n\n      if (match) {\n        currentList = match;\n        currentList.children.push(block);\n        continue;\n      } // Similar parent can't be found, assume new list\n\n\n      currentList = listFromBlock(block);\n      tree.push(currentList);\n      continue;\n    } // Different list props, different list style?\n\n\n    if (block.listItem !== currentList.listItem) {\n      var _match = findListMatching(tree[tree.length - 1], {\n        level: block.level\n      });\n\n      if (_match && _match.listItem === block.listItem) {\n        currentList = _match;\n        currentList.children.push(block);\n        continue;\n      } else {\n        currentList = listFromBlock(block);\n        tree.push(currentList);\n        continue;\n      }\n    } // eslint-disable-next-line no-console\n\n\n    console.warn('Unknown state encountered for block', block);\n    tree.push(block);\n  }\n\n  return tree;\n}\n\nfunction isListBlock(block) {\n  return Boolean(block.listItem);\n}\n\nfunction blockMatchesList(block, list) {\n  return block.level === list.level && block.listItem === list.listItem;\n}\n\nfunction listFromBlock(block) {\n  return {\n    _type: 'list',\n    _key: \"\".concat(block._key, \"-parent\"),\n    level: block.level,\n    listItem: block.listItem,\n    children: [block]\n  };\n}\n\nfunction lastChild(block) {\n  return block.children && block.children[block.children.length - 1];\n}\n\nfunction findListMatching(rootNode, matching) {\n  var filterOnType = typeof matching.listItem === 'string';\n\n  if (rootNode._type === 'list' && rootNode.level === matching.level && filterOnType && rootNode.listItem === matching.listItem) {\n    return rootNode;\n  }\n\n  var node = lastChild(rootNode);\n\n  if (!node) {\n    return false;\n  }\n\n  return findListMatching(node, matching);\n}\n\nmodule.exports = nestLists;","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (blocks) {\n  return blocks.map(function (block) {\n    if (block._key) {\n      return block;\n    }\n\n    return objectAssign({\n      _key: getStaticKey(block)\n    }, block);\n  });\n};\n\nfunction getStaticKey(item) {\n  return checksum(JSON.stringify(item)).toString(36).replace(/[^A-Za-z0-9]/g, '');\n}\n/* eslint-disable no-bitwise */\n\n\nfunction checksum(str) {\n  var hash = 0;\n  var strlen = str.length;\n\n  if (strlen === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < strlen; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}\n/* eslint-enable no-bitwise */"],"sourceRoot":""}